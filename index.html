<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Code Check</title>
<style>
body {background:#050505;color:#f5f5f5;font-family:'Trebuchet MS',sans-serif;text-align:center;padding:2rem;}
#red-eye{position:fixed;width:26px;height:26px;border-radius:50%;
background:radial-gradient(circle, red 0%, rgba(255,0,0,0.4) 40%, transparent 70%);
box-shadow:0 0 20px 8px rgba(255,0,0,0.4);
opacity:0;pointer-events:none;transition:opacity 2s ease;z-index:9999;animation:pulse 4s infinite;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
input {width:50px;font-size:2rem;text-align:center;margin:0 5px;}
input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;} /* verwijder pijltjes */
button {margin-top:20px;padding:10px 20px;font-size:1.2rem;border:none;border-radius:8px;background:#660000;color:white;cursor:pointer;}
button:hover{background:#880000;}
#result{margin-top:2rem;font-size:1.2rem;}
#lines{margin-top:2rem;text-align:left;max-width:700px;margin-left:auto;margin-right:auto;font-family:monospace;}
#tipBtn{margin-top:1rem;}
#tipText{margin-top:1rem;font-size:1.1rem;color:orange;}
.loader{margin:2rem auto;width:80%;height:20px;background:#222;border-radius:10px;overflow:hidden;}
.bar{height:100%;width:0%;background:linear-gradient(90deg,#ff3b3b,#ff9900);}
</style>
</head>
<body>

<div id="red-eye"></div>

<h1>Voer de 4-cijferige code in</h1>
<div>
  <input type="text" id="c1" maxlength="1" pattern="[0-9]">
  <input type="text" id="c2" maxlength="1" pattern="[0-9]">
  <input type="text" id="c3" maxlength="1" pattern="[0-9]">
  <input type="text" id="c4" maxlength="1" pattern="[0-9]">
</div>
<button onclick="checkCode()">Controleer code</button>

<div class="loader" style="display:none;"><div class="bar" id="bar"></div></div>

<div id="result"></div>
<div id="lines"></div>
<button id="tipBtn" style="display:none;" onclick="showTip()">Tip</button>
<div id="tipText"></div>

<script>
// Juiste code
const correctCode = [3,7,3,7];
const eye = document.getElementById('red-eye');

function moveEye(){
  eye.style.left=Math.random()*(window.innerWidth-40)+'px';
  eye.style.top=Math.random()*(window.innerHeight-40)+'px';
  eye.style.opacity=1;
  setTimeout(()=>eye.style.opacity=0,3000);
}

// Spannend bliepje
function beep(frequency,duration){
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const oscillator = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  oscillator.type='square';
  oscillator.frequency.value=frequency;
  gain.gain.setValueAtTime(0.1,audioCtx.currentTime);
  oscillator.connect(gain).connect(audioCtx.destination);
  oscillator.start();
  oscillator.stop(audioCtx.currentTime+duration/1000);
}

// Controleer code met spannend effect
function checkCode(){
  const c = [
    +document.getElementById('c1').value,
    +document.getElementById('c2').value,
    +document.getElementById('c3').value,
    +document.getElementById('c4').value
  ];

  document.getElementById('result').innerHTML='';
  document.getElementById('lines').innerHTML='';
  document.getElementById('tipBtn').style.display='none';
  document.getElementById('tipText').innerHTML='';

  const loader = document.querySelector('.loader');
  const bar = document.getElementById('bar');
  loader.style.display='block';
  bar.style.width='0%';

  let progress = 0;
  const interval = setInterval(()=>{
    progress += 1;
    bar.style.width = progress+'%';
    moveEye();
    beep(200+progress*3,50); // oplopende toon
    if(progress>=100){
      clearInterval(interval);
      loader.style.display='none';
      finalizeCheck(c);
    }
  },50); // 50ms * 100 = 5 seconden
}

function finalizeCheck(c){
  let errors=0;
  for(let i=0;i<4;i++){if(c[i]!==correctCode[i]) errors++;}

  const resultDiv = document.getElementById('result');
  const linesDiv = document.getElementById('lines');

  if(errors>0){
    resultDiv.innerHTML=`<span style="color:red;font-size:1.5rem;">Code incorrect!</span><br>Er zijn ${errors} cijfers fout.`;
  } else {
    resultDiv.innerHTML=`<span style="color:lime;font-size:1.5rem;">Code correct!</span>`;
    const tekst = [
      "1) 6 niks, 4 blauw, 6 niks",
      "2) 5 niks, 1 blauw, 3 roze, 1 blauw, 6 niks",
      "3) 4 niks, 1 blauw, 2 roze, 2 blauw, 7 niks",
      "4) 3 niks, 1 blauw, 1 groen, 1 geel, 2 groen, 1 blauw, 7 niks",
      "5) 2 niks, 1 blauw, 1 groen, 1 blauw, 1 geel, 1 blauw, 1 geel, 1 groen, 1 blauw, 1 niks, 4 blauw, 1 niks",
      "6) 2 niks, 1 blauw, 1 groen, 1 blauw, 1 geel, 1 blauw, 1 geel, 1 groen, 2 blauw, 1 groen, 2 geel, 1 groen, 1 blauw",
      "7) 1 niks, 1 blauw, 2 oranje, 1 groen, 4 geel, 1 blauw, 1 groen, 1 geel, 1 groen, 1 geel, 1 groen, 1 blauw",
      "8) 2 niks, 2 blauw, 5 geel, 1 groen, 4 geel, 1 blauw, 1 niks",
      "9) 1 niks, 1 blauw, 2 groen, 3 gecl, 2 groen, 3 geel, 1 groen, 2 geol, 1 blauw",
      "10) 1 blauw, 2 groen, 5 geel, 1 groen, 1 blauw, 1 geel, 1 groen, 1 blauw, 2 geel, 1 blauw",
      "11) 1 blauw, 3 groen, 1 geel, 1 groen, 3 geel, 1 groen, 2 blauw, 1 groen, 1 geel, 1 blauw, 1 niks",
      "12) 1 blauw, 2 groen, 1 geel, 1 groen, 1 geel, 1 groen, 7 geel, 1 blauw, 1 niks",
      "13) 1 niks, 2 blauw, 1 groen, 8 geel, 1 groen, 1 blauw, 2 niks",
      "14) 2 niks, 2 blauw, 1 groen, 5 geel, 2 groen, 2 blauw, 2 niks",
      "15) 3 niks, 10 blauw, 3 niks",
      "16) 2 niks, 1 blauw, 3 oranje, 1 blauw, 3 oranje, 1 blauw, 5 niks"
    ];
    tekst.forEach(line=>{
      const p = document.createElement('p');
      p.textContent = line;
      linesDiv.appendChild(p);
    });
    document.getElementById('tipBtn').style.display='inline-block';
  }
}

function showTip(){
  document.getElementById('tipText').textContent="Artikelnummer 14122210 Hema";
}
</script>

</body>
</html>
